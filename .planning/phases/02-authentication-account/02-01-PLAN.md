---
phase: 02-authentication-account
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - components/ui/form.tsx
  - components/ui/input.tsx
  - components/ui/label.tsx
  - components/ui/sonner.tsx
  - components/ui/dropdown-menu.tsx
  - components/ui/avatar.tsx
  - components/ui/card.tsx
  - lib/validations/auth.ts
  - app/layout.tsx
autonomous: true

must_haves:
  truths:
    - "Form validation library is available for all auth forms"
    - "Toast notifications can be displayed throughout the app"
    - "Validation schemas are ready for signup, login, and password forms"
  artifacts:
    - path: "lib/validations/auth.ts"
      provides: "Zod schemas for auth form validation"
      exports: ["signupSchema", "loginSchema", "resetPasswordSchema", "updatePasswordSchema", "changePasswordSchema"]
    - path: "components/ui/sonner.tsx"
      provides: "Toast notification component"
    - path: "components/ui/form.tsx"
      provides: "Form field wrappers for react-hook-form"
    - path: "components/ui/card.tsx"
      provides: "Card component for auth error page and layouts"
    - path: "app/layout.tsx"
      provides: "Root layout with Toaster"
      contains: "Toaster"
  key_links:
    - from: "app/layout.tsx"
      to: "components/ui/sonner.tsx"
      via: "Toaster import and render"
      pattern: "import.*Toaster.*sonner"
---

<objective>
Install form validation dependencies and add required shadcn/ui components for authentication forms.

Purpose: All subsequent auth plans depend on react-hook-form, zod, and shadcn form components. This foundation enables consistent form handling and toast feedback across signup, login, password reset, and account settings.

Output: npm dependencies installed, shadcn components added, validation schemas defined, Toaster in root layout.
</objective>

<execution_context>
@/Users/chakaitos/.claude/get-shit-done/workflows/execute-plan.md
@/Users/chakaitos/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-authentication-account/02-RESEARCH.md

@app/layout.tsx
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install dependencies and add shadcn components</name>
  <files>package.json, components/ui/form.tsx, components/ui/input.tsx, components/ui/label.tsx, components/ui/sonner.tsx, components/ui/dropdown-menu.tsx, components/ui/avatar.tsx, components/ui/card.tsx</files>
  <action>
Install form validation libraries:
```bash
npm install react-hook-form zod @hookform/resolvers
```

Add required shadcn/ui components:
```bash
npx shadcn@latest add form input label sonner dropdown-menu avatar card
```

The form component brings in react-hook-form integration. Sonner provides toast notifications. Input/label are form primitives. Dropdown-menu and avatar are for the user menu (used in later plans but added now for efficiency). Card is used for the auth error page layout (Plan 02-02).

Verify all components are added to components/ui/ directory.
  </action>
  <verify>
- `npm ls react-hook-form zod @hookform/resolvers` shows all three installed
- Files exist: components/ui/form.tsx, components/ui/input.tsx, components/ui/label.tsx, components/ui/sonner.tsx, components/ui/dropdown-menu.tsx, components/ui/avatar.tsx, components/ui/card.tsx
  </verify>
  <done>Dependencies installed and all shadcn components present in components/ui/</done>
</task>

<task type="auto">
  <name>Task 2: Create validation schemas and add Toaster to layout</name>
  <files>lib/validations/auth.ts, app/layout.tsx</files>
  <action>
Create validation schemas file at lib/validations/auth.ts:

```typescript
import { z } from 'zod'

export const signupSchema = z.object({
  email: z.string().email('Please enter a valid email address'),
  password: z
    .string()
    .min(8, 'Password must be at least 8 characters')
    .regex(/[A-Z]/, 'Password must contain at least one uppercase letter')
    .regex(/[a-z]/, 'Password must contain at least one lowercase letter')
    .regex(/[0-9]/, 'Password must contain at least one number'),
  confirmPassword: z.string(),
}).refine((data) => data.password === data.confirmPassword, {
  message: "Passwords don't match",
  path: ['confirmPassword'],
})

export const loginSchema = z.object({
  email: z.string().email('Please enter a valid email address'),
  password: z.string().min(1, 'Password is required'),
})

export const resetPasswordSchema = z.object({
  email: z.string().email('Please enter a valid email address'),
})

export const updatePasswordSchema = z.object({
  password: z
    .string()
    .min(8, 'Password must be at least 8 characters')
    .regex(/[A-Z]/, 'Password must contain at least one uppercase letter')
    .regex(/[a-z]/, 'Password must contain at least one lowercase letter')
    .regex(/[0-9]/, 'Password must contain at least one number'),
  confirmPassword: z.string(),
}).refine((data) => data.password === data.confirmPassword, {
  message: "Passwords don't match",
  path: ['confirmPassword'],
})

export const changePasswordSchema = z.object({
  currentPassword: z.string().min(1, 'Current password is required'),
  newPassword: z
    .string()
    .min(8, 'Password must be at least 8 characters')
    .regex(/[A-Z]/, 'Password must contain at least one uppercase letter')
    .regex(/[a-z]/, 'Password must contain at least one lowercase letter')
    .regex(/[0-9]/, 'Password must contain at least one number'),
  confirmNewPassword: z.string(),
}).refine((data) => data.newPassword === data.confirmNewPassword, {
  message: "Passwords don't match",
  path: ['confirmNewPassword'],
})

// Type exports for form usage
export type SignupFormValues = z.infer<typeof signupSchema>
export type LoginFormValues = z.infer<typeof loginSchema>
export type ResetPasswordFormValues = z.infer<typeof resetPasswordSchema>
export type UpdatePasswordFormValues = z.infer<typeof updatePasswordSchema>
export type ChangePasswordFormValues = z.infer<typeof changePasswordSchema>
```

Update app/layout.tsx to add Toaster:
- Import Toaster from '@/components/ui/sonner'
- Add `<Toaster />` after {children} in body
- Update metadata title to "Animation Labs" and description to "Professional logo animations in minutes"
  </action>
  <verify>
- `npx tsc --noEmit` passes (no type errors)
- lib/validations/auth.ts exists with all 5 schemas exported
- app/layout.tsx contains Toaster import and component
  </verify>
  <done>Validation schemas defined with TypeScript types, Toaster added to root layout, metadata updated</done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. `npm run dev` starts server successfully
3. All validation schemas can be imported: `import { signupSchema, loginSchema } from '@/lib/validations/auth'`
4. Toaster is rendered in the root layout (visible in React DevTools or page source)
</verification>

<success_criteria>
- react-hook-form, zod, @hookform/resolvers installed in package.json
- All 7 shadcn components exist in components/ui/ (form, input, label, sonner, dropdown-menu, avatar, card)
- lib/validations/auth.ts exports 5 schemas + 5 types
- app/layout.tsx renders Toaster component
- `npm run build` passes
</success_criteria>

<output>
After completion, create `.planning/phases/02-authentication-account/02-01-SUMMARY.md`
</output>
