---
phase: 01-foundation-setup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - tsconfig.json
  - next.config.ts
  - tailwind.config.ts
  - app/layout.tsx
  - app/page.tsx
  - components.json
  - .env.example
  - .env.local
  - .gitignore
autonomous: true

must_haves:
  truths:
    - "Next.js 16 project runs with npm run dev"
    - "Tailwind CSS 4 classes render correctly"
    - "shadcn/ui components can be imported"
    - "Environment variables structure exists"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies and scripts"
      contains: "next"
    - path: "app/layout.tsx"
      provides: "Root layout with Tailwind"
      min_lines: 10
    - path: "components.json"
      provides: "shadcn/ui configuration"
      contains: "shadcn"
    - path: ".env.example"
      provides: "Environment variable template"
      contains: "NEXT_PUBLIC_SUPABASE_URL"
  key_links:
    - from: "app/layout.tsx"
      to: "globals.css"
      via: "Tailwind imports"
      pattern: "import.*globals"
---

<objective>
Initialize the Next.js 16 project with TypeScript, Tailwind CSS 4, and shadcn/ui. Set up the environment variable structure for Supabase integration.

Purpose: Create the foundational project structure that all subsequent phases will build upon.
Output: A runnable Next.js application with all base dependencies installed and configured.
</objective>

<execution_context>
@/Users/chakaitos/.claude/get-shit-done/workflows/execute-plan.md
@/Users/chakaitos/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-setup/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Next.js 16 project</name>
  <files>
    package.json
    tsconfig.json
    next.config.ts
    tailwind.config.ts
    app/layout.tsx
    app/page.tsx
    app/globals.css
  </files>
  <action>
Create the Next.js 16 project using the official CLI with all defaults:

```bash
npx create-next-app@latest . --yes
```

This command:
- Installs Next.js 16 with TypeScript
- Configures Tailwind CSS 4 automatically
- Sets up Turbopack as the default bundler
- Creates App Router structure
- Configures ESLint
- Sets up @/* import alias

After creation, verify the version in package.json shows Next.js 16.x.

If the directory already has files (like .planning), run from the parent and move files, or use a temp directory approach.

**Note on Tailwind 4:** Next.js 16 uses Tailwind 4 which has CSS-based configuration. The setup is automatic - do not try to use old JS config format.
  </action>
  <verify>
Run `npm run dev` and confirm server starts on localhost:3000 without errors.
Check package.json shows "next": "^16" or similar.
  </verify>
  <done>
Next.js 16 project created with TypeScript, Tailwind CSS 4, and Turbopack. Dev server runs successfully.
  </done>
</task>

<task type="auto">
  <name>Task 2: Install Supabase and initialize shadcn/ui</name>
  <files>
    package.json
    components.json
    lib/utils.ts
    components/ui/
  </files>
  <action>
Install Supabase client libraries:

```bash
npm install @supabase/supabase-js @supabase/ssr
```

Initialize shadcn/ui with default configuration:

```bash
npx shadcn@latest init
```

When prompted, accept defaults or choose:
- Style: Default
- Base color: Neutral (or Slate for a slightly warmer tone)
- CSS variables: Yes
- Global CSS location: app/globals.css
- Tailwind config: Yes (auto-detected)
- Components location: @/components
- Utils location: @/lib/utils

**Important:** If React 19 peer dependency warnings appear, use `--legacy-peer-deps` flag:

```bash
npm install --legacy-peer-deps
```

Install a few base shadcn/ui components that will be used across the app:

```bash
npx shadcn@latest add button card
```
  </action>
  <verify>
Run `npm run dev` - no errors.
Verify `components.json` exists.
Verify `components/ui/button.tsx` exists.
Verify `@supabase/supabase-js` is in package.json dependencies.
  </verify>
  <done>
Supabase JS client installed. shadcn/ui initialized with button and card components.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create environment variable structure</name>
  <files>
    .env.example
    .env.local
    .gitignore
  </files>
  <action>
Create `.env.example` (committed to git - template for required env vars):

```bash
# Supabase (PUBLIC - safe for client)
NEXT_PUBLIC_SUPABASE_URL=your-project-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# Supabase (SERVER ONLY - never expose to client)
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Stripe (to be configured in Phase 3)
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
# STRIPE_SECRET_KEY=
# STRIPE_WEBHOOK_SECRET=

# n8n (to be configured in Phase 4)
# N8N_WEBHOOK_URL=
# N8N_WEBHOOK_SECRET=

# Resend (to be configured in Phase 6)
# RESEND_API_KEY=

# App
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

Create `.env.local` (gitignored - for local development):

```bash
# Supabase - Get values from Supabase Dashboard > Settings > API
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# App URL
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

Verify `.gitignore` includes `.env.local` (Next.js includes this by default, but confirm).

**Security note:** Never add actual secret values to .env.example. The service role key comment is intentionally commented out - it should only be set in CI/CD or production environments, not locally unless needed.
  </action>
  <verify>
File `.env.example` exists with template values.
File `.env.local` exists with empty placeholders.
`.env.local` is in `.gitignore`.
  </verify>
  <done>
Environment variable structure created. .env.example serves as documentation, .env.local is gitignored for local secrets.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. Run `npm run dev` - server starts without errors on http://localhost:3000
2. Visit localhost:3000 - Next.js default page renders with styled content
3. Check `package.json` for:
   - "next": "^16.x"
   - "@supabase/supabase-js"
   - "@supabase/ssr"
4. Check `components.json` exists (shadcn/ui config)
5. Check `components/ui/button.tsx` exists
6. Check `.env.example` has Supabase placeholders
7. Check `.env.local` is gitignored
</verification>

<success_criteria>
- Next.js 16 project initialized and running
- Tailwind CSS 4 configured and working
- shadcn/ui installed with button and card components
- Supabase client libraries installed
- Environment variable structure in place
- Development server runs without errors
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-setup/01-01-SUMMARY.md` using the summary template.
</output>
