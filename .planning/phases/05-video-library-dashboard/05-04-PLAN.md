---
phase: 05-video-library-dashboard
plan: 04
type: execute
wave: 3
depends_on: ["05-02", "05-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User can view all their videos in library"
    - "User can filter by status and search by brand name"
    - "User can download completed videos"
    - "User can delete videos with confirmation"
    - "Dashboard shows recent videos and accurate count"
  artifacts: []
  key_links: []
---

<objective>
Verify the complete video library and dashboard functionality through user testing.

Purpose: Confirm all Phase 5 requirements work correctly before marking phase complete. This checkpoint ensures the video viewing, filtering, downloading, and deletion flows work as expected from a user perspective.

Output: Verified video library functionality ready for production use.
</objective>

<execution_context>
@/Users/chakaitos/.claude/get-shit-done/workflows/execute-plan.md
@/Users/chakaitos/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-video-library-dashboard/05-01-SUMMARY.md
@.planning/phases/05-video-library-dashboard/05-02-SUMMARY.md
@.planning/phases/05-video-library-dashboard/05-03-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Verify video library and dashboard functionality</name>
  <what-built>
Complete video library system including:
- Dashboard with recent videos grid (up to 5 videos)
- Dashboard "Videos Created" stat showing monthly count
- Dedicated /videos page with full video library
- Search by brand name (debounced)
- Filter by status (All/Completed/Processing/Failed)
- Video cards with status badges and thumbnails
- Download button for completed videos
- Delete with AlertDialog confirmation
- Empty state with "Create Video" CTA
  </what-built>
  <how-to-verify>
**Prerequisites:**
- Start dev server: `npm run dev`
- Log in as a user with an active subscription
- Ensure you have at least one video created (from Phase 4 testing)

**Test 1: Dashboard Recent Videos**
1. Navigate to http://localhost:3000/dashboard
2. Verify "Videos Created" card shows correct count for this month
3. Verify recent videos grid shows up to 5 videos
4. Verify "View All" link appears (if videos exist)
5. Click "View All" - should navigate to /videos

**Test 2: Videos Library Page**
1. Navigate to http://localhost:3000/videos
2. Verify page header shows "Video Library" with "Create Video" button
3. Verify search input and status dropdown are visible
4. Verify video grid displays all your videos

**Test 3: Search Functionality**
1. Type a partial brand name in search input
2. Wait ~300ms for debounce
3. Verify grid filters to matching videos
4. Clear search - verify all videos return
5. Check URL updates with `?query=...` parameter

**Test 4: Status Filter**
1. Select "Completed" from status dropdown
2. Verify only completed videos shown
3. Select "Processing" - verify only processing videos (or empty state)
4. Select "All Videos" - verify all videos return
5. Check URL updates with `?status=...` parameter

**Test 5: Video Card Display**
1. Verify each card shows:
   - Thumbnail (or status icon if no thumbnail)
   - Brand name (truncated if long)
   - Created date
   - Status badge (Ready/Processing/Failed)
2. For completed videos: Download button visible
3. For all videos: Delete button visible

**Test 6: Download Video**
1. Find a completed video with video_url
2. Click Download button
3. Verify video file downloads (or opens in new tab depending on browser)

**Test 7: Delete Video**
1. Click delete (trash icon) on any video card
2. Verify AlertDialog appears with video name
3. Click "Cancel" - verify nothing deleted
4. Click delete again, then "Delete Video"
5. Verify video removed from grid
6. Verify toast notification appears

**Test 8: Empty State**
1. Delete all videos OR use status filter that returns no results
2. Verify empty state shows with "No videos yet" message
3. Verify "Create Video" button in empty state works

**Test 9: Loading States**
1. Hard refresh /videos page
2. Verify skeleton loading appears briefly
3. Change filters - verify Suspense triggers (may be fast)

**Test 10: URL Persistence**
1. Set search query and status filter
2. Refresh page
3. Verify filters preserved from URL params
4. Copy URL and open in new tab - verify same filters applied
  </how-to-verify>
  <resume-signal>
Type "approved" if all tests pass.
If issues found, describe each issue for fixing.
  </resume-signal>
</task>

</tasks>

<verification>
Human verification checkpoint - no automated checks.
</verification>

<success_criteria>
All manual tests pass:
- Dashboard shows real video data and accurate count
- Videos page lists all user videos
- Search and filter work correctly with URL params
- Download works for completed videos
- Delete removes video with confirmation
- Loading states display properly
- Empty states show helpful CTA
</success_criteria>

<output>
After completion, create `.planning/phases/05-video-library-dashboard/05-04-SUMMARY.md`
</output>
